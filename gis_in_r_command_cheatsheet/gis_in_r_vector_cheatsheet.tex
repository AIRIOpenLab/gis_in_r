\documentclass[10pt]{article} 
\usepackage{amsfonts, amsmath, amssymb} 
\usepackage{dcolumn, multirow} 
\usepackage{setspace} 
\usepackage{epsfig, subfigure, subfloat, graphicx}
\usepackage{anysize, indentfirst, setspace} 
\usepackage{verbatim, rotating, paralist}
\usepackage{latexsym} 
\usepackage{amsthm} 
\usepackage{fullpage} 
\usepackage{graphicx} 
\usepackage{amsfonts} 
\usepackage{dsfont} 
\usepackage{comment} 
\usepackage{hyperref}
\usepackage{multicol}
\usepackage{txfonts} 
\usepackage{parskip} 

\setlength{\columnsep}{1cm}
\usepackage{enumitem}
\setlist{nosep}

\usepackage[margin=2.5cm]{geometry}

\title{GIS in R Command Cheat Sheet \\ \emph{Vector Data}}
\date{\today}
\author{Nick Eubank}

\begin{document} 
\maketitle
% \begin{multicols}{2}

%%%%%%%%%%
% Installing
%%%%%%%%%%
	
\centerline{\textbf{Installation of Relevant Packages}}
\textbf{Packages:}
\begin{itemize}
	\item \texttt{sp}: tools for vector spatial data
	\item \texttt{rgdal}: tools for reading and writing files in different formats
\end{itemize}
\textbf{Installation:}\\
Update R to version $>$ 3.1.\\
On Windows:
\begin{itemize}
	\item \texttt{install.packages(``sp''}
	\item \texttt{install.packages(``rgdal'')}
\end{itemize}
On OSX:
	\begin{itemize}
		\item \texttt{install.packages(c(``sp'',``raster''))}
		\item Download and install 	\href{http://www.kyngchaos.com/files/software/frameworks/GDAL_Complete-1.11.dmg}{\underline{GDAL Complete}}
		\item Download \href{http://www.kyngchaos.com/files/software/frameworks/rgdal-0.9.1-1.dmg}{\underline{rgdal}} package. 
		\item Open .dmg file and place \texttt{rgdal\_0.9-1.tgz} on desktop.
		\item Run \texttt{install.packages("$\sim$/Desktop/rgdal\_0.9-1.tgz",repos=NULL)}
	\end{itemize}



\section*{Building and Managing Vector Objects}

%%%%%%%%%%
% Creating from Scratch
%%%%%%%%%%

\centerline{\textbf{Creating Spatial Objects From Scratch}} 
\underline{\textbf{Points:}}\\

\textbf{Points}: \texttt{SpatialPoints([matrix of coordinates])}
\begin{itemize}
	\item Note: if latitude and longitude coordinates, must be ordered longitude (x-coordinate), latitude (y-coordinate)
\end{itemize}
\textbf{Points with DF}: \texttt{SpatialPointsDataFrame([Spatial Points Obj], [DataFrame])}\\
\\
\underline{\textbf{Lines:}}\\

\textbf{Line (single geometric line)}: \texttt{Line([matrix of coordinates of vertices])}\\
\textbf{Lines (single ``observations'' potentially consisting of several basic lines, like a river)}:\\ 
\hspace*{1cm} \texttt{Lines([list of Line Objs], [name for Lines objs])}\\
\textbf{SpatialLines (collection of ``observations'', like shapefile)}: \\
\hspace*{1cm} \texttt{SpatialLines([list of Line\textbf{s} Objs], [Lines plotting order])}\\
\textbf{Spatial Lines with DF}: \texttt{SpatialLinesDataFrame([SpatialLines Obj, DataFrame])}\\
\\
\underline{\textbf{Polygons:}} \\

\textbf{Polygon (one geometric shape defined by a single enclosing line)}: \\
\hspace*{1cm}\texttt{Polygon([matrix of coordinates of vertices])} \\
\textbf{Polygons (single ``observations'' potentially consisting of several basic shapes)}:\\ 
\hspace*{1cm} \texttt{Polygons([list of Polygon Objs], [name for Polygons objs])}\\
\textbf{SpatialPolygons (collection of ``observations'', like shapefile)}:\\
\hspace*{1cm} \texttt{SpatialPolygons([list of Polygon\textbf{s} Objs], [Polygons plotting order])}\\
\textbf{Spatial Polygons with DF}: \texttt{SpatialPolygonsDataFrame([SpatialPolygons Obj, DataFrame])}
\begin{itemize}
	\item Note: will merge DataFrame with polygons by matching DataFrame \texttt{rownames} to the names of \texttt{Polygons}.
\end{itemize}

%%%%%%%%%%
% Load from Files
%%%%%%%%%%

\hrulefill \\ 
\centerline{\textbf{Loading Spatial Objects from Files}} \\
\underline{\textbf{GPS Coordinates in Table:}}\\
\begin{enumerate}
	\item Use \texttt{read.csv()} to import DataFrame with lat long coordinates.
	\item \texttt{coordinates([DataFrame]) <- c([name of column with long],[name of column with lat])}
	\begin{itemize}
		\item Note reverse ordering: longitude (x-coordinate), then latitude (y-coordinate).
	\end{itemize}
\end{enumerate}
\underline{\textbf{Vector-Based Files:}}\\
\texttt{data <- readOGR(dsn=[path to FOLDER holding data], layer=[name of shapefile in folder])}
\begin{itemize}
	\item Note: do not include extension (like \texttt{.shp} in \texttt{layer} argument)
\end{itemize}

%%%%%%%%%%
% Interrogating
%%%%%%%%%%

\hrulefill \\ 
\centerline{\textbf{Interrogating Spatial Objects}} \\
\underline{\textbf{Summaries:} }\\
\textbf{Quick summary:} \texttt{summary([Spatial obj])}\\
\textbf{Longer summary of contents:} \texttt{str([Spatial obj])}\\
\textbf{Full list of contents:} \texttt{attributes([Spatial obj])}\\
\textbf{Check if projected:} \texttt{is.projected([Spatial obj])}\\

\underline{\textbf{Extract Attributes:} }\\
\textbf{Bounding Box:} \texttt{bbox([Spatial obj])}\\
\textbf{Get full projection info:} \texttt{proj4string([Spatial obj])}\\
\textbf{Get associated coordinates:} \texttt{coordinates([Spatial obj])}\\

%%%%%%%%%%
% Projections
%%%%%%%%%%

\hrulefill \\ 
\centerline{\textbf{Managing Projections}} \\
\href{http://www.spatialreference.org/}{\underline{\textbf{Projection code database}}} \\
\hspace{0.3cm}
\textbf{Assigning projection by EPSG code:} \texttt{proj4string([Spatial obj]) <-CRS("+init=EPSG:4326")}\\
\textbf{Get projection from Spatial obj:} \texttt{proj4string([Spatial obj])} \\
\textbf{Re-project:} \\
\hspace*{0.3cm}\texttt{newProjection <- CRS("projection string goes here")}\\
\hspace*{0.3cm}\texttt{spTransform([Spatial object],newProjection)}\\


\section*{Spatial Operations}


\end{document}
